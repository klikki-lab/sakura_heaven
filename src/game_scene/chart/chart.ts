export module Chart {

    export const State = {
        START: -1,
        REST: 0,
        NOTE: 1,
        TIMING: 2,
        LOOP: -2,
        EOC: -3,
    };

    export const Charts: number[][] = [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, State.START, 0, 0, 0],

        [1, 0, 0, 0, 1, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [1, 0, 1, 0, 1, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],

        [1, 0, 0, 0, 1, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [1, 0, 1, 0, 1, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],

        [1, 0, 1, 0, 0, 0, 1, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [1, 0, 1, 0, 0, 0, 1, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],

        [1, 0, 0, 0, 1, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [1, 0, 0, 0, 1, 0, 1, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],

        // ---------------------

        [1, 0, 1, 0, 1, 0, 1, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [1, 0, 1, 0, 1, 1, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],

        [0, 1, 0, 1, 0, 1, 0, 1],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 1, 0, 1, 0, 0, 1, 1],
        [0, 0, 0, 0, 0, 0, 0, 0],

        [1, 0, 1, 0, 0, 1, 1, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [1, 1, 0, 0, 1, 0, 1, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],

        [1, 0, 1, 0, 1, 1, 1, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 1, 1, 1],
        [0, 0, 0, 0, 0, 0, 0, State.EOC],
    ] as const;

    // export const Charts2: number[][] = [
    //     [0, 0, 0, 0, 0, 0, 0, 0],
    //     [0, 0, 0, 0, State.START, 0, 0, 0],

    //     [1, 0, 0, 0, 1, 0, 0, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],
    //     [1, 0, 1, 0, 1, 0, 0, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],

    //     [1, 0, 0, 0, 1, 0, 0, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],
    //     [1, 0, 1, 0, 1, 0, 0, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],

    //     [1, 0, 1, 0, 0, 0, 1, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],
    //     [1, 0, 1, 0, 0, 0, 1, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],

    //     [1, 0, 0, 0, 1, 0, 0, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],
    //     [1, 0, 0, 0, 1, 0, 1, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],

    //     // ---------------------

    //     [1, 0, 1, 0, 1, 0, 1, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],
    //     [1, 0, 1, 0, 1, 1, 0, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],

    //     [0, 1, 0, 1, 0, 1, 0, 1],
    //     [0, 0, 0, 0, 0, 0, 0, 0],
    //     [0, 1, 0, 1, 0, 0, 1, 1],
    //     [0, 0, 0, 0, 0, 0, 0, 0],

    //     [1, 0, 1, 0, 0, 1, 1, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],
    //     [1, 0, 0, 1, 1, 0, 1, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],

    //     [1, 0, 1, 0, 1, 1, 1, 0],
    //     [0, 0, 0, 0, 0, 0, 0, 0],
    //     [0, 0, 0, 0, 0, 0, 1, 1],
    //     [0, 0, 0, 0, 0, 0, 0, State.EOC],
    // ] as const;

    export const extractNoteCount = (arr: number[][]): number => {
        let count = 0;
        arr.forEach(arr => {
            arr.forEach(num => {
                if (Chart.State.NOTE === num) count++;
            });
        });
        return count;
    };
};

